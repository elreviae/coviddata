var cellFormatReproductionRate=function(t,e){let a=t.getValue();return a>1?(t.getElement().classList.add("w3-black","w3-text-red"),'<i class="fas fa-sort-up arrowUpDown"></i>'+a.toLocaleString()):a>=.5&&a<=1?(t.getElement().classList.add("w3-metro-dark-orange"),'<i class="fas fa-sort-down arrowUpDown"></i>'+a.toLocaleString()):a<.5?(t.getElement().classList.add("w3-metro-orange"),'<i class="fas fa-sort-down arrowUpDown"></i>'+a.toLocaleString()):null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a.toLocaleString()},cellFormatNewVaccinations=function(t,e){let a=t.getValue();return a>0&&a<=49999?(t.getElement().classList.add("w3-metro-dark-blue"),"+ "+a.toLocaleString()):a>=5e4&&a<=99999?(t.getElement().classList.add("w3-metro-blue"),"+ "+a.toLocaleString()):a>=1e5&&a<=999999?(t.getElement().classList.add("w3-light-blue"),"+ "+a.toLocaleString()):a>1e6?(t.getElement().classList.add("w3-aqua"),"+ "+a.toLocaleString()):null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a.toLocaleString()},cellFormatTotalVaccinations=function(t,e){let a=t.getValue();return a>0&&a<=9999?(t.getElement().classList.add("w3-metro-dark-green"),a.toLocaleString()):a>=1e4&&a<=99999?(t.getElement().classList.add("w3-metro-green"),a.toLocaleString()):a>=1e5&&a<=499999?(t.getElement().classList.add("w3-metro-light-green"),a.toLocaleString()):a>5e5?(t.getElement().classList.add("w3-lime"),a.toLocaleString()):null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a.toLocaleString()},cellFormatNewTests=function(t,e){let a=t.getValue();return a>0&&a<=4999?(t.getElement().classList.add("w3-text-aqua"),"+ "+a.toLocaleString()):a>=5e3&&a<=99999?(t.getElement().classList.add("w3-text-cyan"),"+ "+a.toLocaleString()):a>=1e5&&a<=499999?(t.getElement().classList.add("w3-text-light-blue"),"+ "+a.toLocaleString()):a>5e5?(t.getElement().classList.add("w3-text-blue"),"+ "+a.toLocaleString()):null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a.toLocaleString()},cellFormatTotalTests=function(t,e){let a=t.getValue();return a>0&&a<=499999?(t.getElement().classList.add("w3-text-green"),a.toLocaleString()):a>=5e5&&a<=999999?(t.getElement().classList.add("w3-text-light-green"),a.toLocaleString()):a>=1e6&&a<=4999999?(t.getElement().classList.add("w3-text-lime"),a.toLocaleString()):a>5e6?(t.getElement().classList.add("w3-text-yellow"),a.toLocaleString()):null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a.toLocaleString()},cellFormatterToLocString=function(t,e){let a=t.getValue();return null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a.toLocaleString()},cellFormatString=function(t,e){let a=t.getValue();return null==a?(t.getElement().classList.add("w3-text-red"),"Data not available"):a},vaccinTable=new Tabulator("#vaccinTable",{rowFormatter:function(t){var e=t.getData();"World"!=e.location&&"International"!=e.location||t.delete()},downloadConfig:{columnHeaders:!0,columnGroups:!1,columnCalcs:!1},cellVertAlign:"middle",height:750,placeholder:"Data Loading",virtualDomBuffer:300,pagination:"local",paginationSize:15,reactiveData:!0,layout:"fitDataStretch",tooltips:!1,resizableRows:!1,initialSort:[{column:"total_vaccinations",dir:"desc"}],columns:[{title:"Continent",field:"continent",hozAlign:"center",sorter:"string",headerFilter:"select",headerFilterParams:{values:!0},headerFilterPlaceholder:"Select"},{title:"Location",field:"location",hozAlign:"center",sorter:"string",headerFilter:"input",headerFilterPlaceholder:"Search"},{title:"Vaccinations",columns:[{title:"New vaccinations",field:"new_vaccinations",hozAlign:"center",sorter:"number",formatter:cellFormatNewVaccinations},{title:"Total vaccinations",field:"total_vaccinations",hozAlign:"center",sorter:"number",formatter:cellFormatTotalVaccinations}]},{title:"Number of Tests",columns:[{title:"New tests",field:"new_tests",hozAlign:"center",sorter:"number",formatter:cellFormatNewTests},{title:"Total tests",field:"total_tests",hozAlign:"center",sorter:"number",formatter:cellFormatTotalTests}]},{title:"Reproduction rate (R)",field:"reproduction_rate",hozAlign:"center",sorter:"number",formatter:cellFormatReproductionRate},{title:"Population",field:"population",hozAlign:"center",sorter:"number",formatter:cellFormatterToLocString},{title:"Age Informations",columns:[{title:"Median Age",field:"median_age",hozAlign:"center",sorter:"number",formatter:cellFormatterToLocString},{title:"% Aged 65 Older",field:"aged_65_older",hozAlign:"center",sorter:"number",formatter:cellFormatterToLocString},{title:"% Aged 70 Older",field:"aged_70_older",hozAlign:"center",sorter:"number",formatter:cellFormatterToLocString}]}]}),vaccinAPI="https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/latest/owid-covid-latest.json";$.getJSON(vaccinAPI,function(t){let e=t,a=Object.keys(e).reduce(function(t,a){return t.concat(a,e[a])},[]);console.log(a),vaccinTable.setData(a)});