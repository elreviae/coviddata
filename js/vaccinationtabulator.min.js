var cellFormatReproductionRate=function(t,e){let l=t.getValue();return l>=1?(t.getElement().classList.add("w3-black","w3-text-red"),'<i class="fas fa-sort-up arrowUpDown"></i>'+l):l<=.99&&l>=.5?(t.getElement().classList.add("w3-metro-dark-orange"),'<i class="fas fa-sort-down arrowUpDown"></i>'+l):l<.49&&l>0?(t.getElement().classList.add("w3-metro-orange"),'<i class="fas fa-sort-down arrowUpDown"></i>'+l):0==l?(t.getElement().classList.add("w3-metro-yellow"),l):null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l},cellFormatNewVaccinations=function(t,e){let l=t.getValue();return l>0&&l<=49999?(t.getElement().classList.add("w3-metro-dark-blue"),"+ "+l.toLocaleString()):l>=5e4&&l<=99999?(t.getElement().classList.add("w3-metro-blue"),"+ "+l.toLocaleString()):l>=1e5&&l<=999999?(t.getElement().classList.add("w3-light-blue"),"+ "+l.toLocaleString()):l>1e6?(t.getElement().classList.add("w3-aqua"),"+ "+l.toLocaleString()):null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l.toLocaleString()},cellFormatPeopleVaccinated=function(t,e){let l=t.getValue();return l>0&&l<=9999?(t.getElement().classList.add("w3-metro-dark-green"),l.toLocaleString()):l>=1e4&&l<=499999?(t.getElement().classList.add("w3-metro-green"),l.toLocaleString()):l>=5e5&&l<=4999999?(t.getElement().classList.add("w3-metro-light-green"),l.toLocaleString()):l>=5e6&&l<=9999999?(t.getElement().classList.add("w3-metro-yellow"),l.toLocaleString()):l>1e7?(t.getElement().classList.add("w3-sand"),l.toLocaleString()):null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l.toLocaleString()},cellFormatTotalVaccinations=function(t,e){let l=t.getValue();return l>0&&l<=99999?(t.getElement().classList.add("w3-metro-dark-green"),l.toLocaleString()):l>=1e5&&l<=999999?(t.getElement().classList.add("w3-metro-green"),l.toLocaleString()):l>=1e6&&l<=9999999?(t.getElement().classList.add("w3-metro-light-green"),l.toLocaleString()):l>1e7?(t.getElement().classList.add("w3-lime"),l.toLocaleString()):null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l.toLocaleString()},cellFormatNewTests=function(t,e){let l=t.getValue();return l>0&&l<=4999?(t.getElement().classList.add("w3-text-aqua"),"+ "+l.toLocaleString()):l>=5e3&&l<=99999?(t.getElement().classList.add("w3-text-cyan"),"+ "+l.toLocaleString()):l>=1e5&&l<=499999?(t.getElement().classList.add("w3-text-light-blue"),"+ "+l.toLocaleString()):l>5e5?(t.getElement().classList.add("w3-text-blue"),"+ "+l.toLocaleString()):null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l.toLocaleString()},cellFormatTotalTests=function(t,e){let l=t.getValue();return l>0&&l<=499999?(t.getElement().classList.add("w3-text-green"),l.toLocaleString()):l>=5e5&&l<=999999?(t.getElement().classList.add("w3-text-light-green"),l.toLocaleString()):l>=1e6&&l<=4999999?(t.getElement().classList.add("w3-text-lime"),l.toLocaleString()):l>5e6?(t.getElement().classList.add("w3-text-yellow"),l.toLocaleString()):null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l.toLocaleString()},cellFormatterToLocString=function(t,e){let l=t.getValue();return null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l.toLocaleString()},cellFormatContinent=function(t,e){let l=t.getValue();return null==l?"Continent":l},cellFormatString=function(t,e){let l=t.getValue();return null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l},cellFormatPercent=function(t,e){let l=t.getValue();return null==l?(t.getElement().classList.add("w3-text-red"),"Data not available"):l+" %"},vaccinTable=new Tabulator("#vaccinTable",{rowFormatter:function(t){var e=t.getData();"World"!=e.location&&"International"!=e.location&&null!=e.continent||t.delete()},downloadConfig:{columnHeaders:!0,columnGroups:!1,columnCalcs:!1},cellVertAlign:"middle",height:750,placeholder:"Data Loading",virtualDomBuffer:300,pagination:"local",paginationSize:15,layout:"fitDataStretch",tooltips:!1,resizableRows:!1,initialSort:[{column:"total_vaccinations",dir:"desc"}],columns:[{title:"Continent",field:"continent",hozAlign:"center",sorter:"string",headerFilter:"select",headerFilterParams:{values:!0},headerFilterPlaceholder:"Select",formatter:cellFormatContinent},{title:"Location",field:"location",hozAlign:"center",sorter:"string",headerFilter:"input",headerFilterPlaceholder:"Search",formatter:cellFormatString},{title:"Vaccinations",columns:[{title:"New vaccinations",field:"new_vaccinations",hozAlign:"center",sorter:"number",formatter:cellFormatNewVaccinations},{title:"People vaccinated",field:"people_vaccinated",hozAlign:"center",sorter:"number",formatter:cellFormatPeopleVaccinated},{title:"People Fully vaccinated",field:"people_fully_vaccinated",hozAlign:"center",sorter:"number",formatter:cellFormatPeopleVaccinated},{title:"Total vaccinations",field:"total_vaccinations",hozAlign:"center",sorter:"number",formatter:cellFormatTotalVaccinations}]},{title:"Number of Tests",columns:[{title:"New tests",field:"new_tests",hozAlign:"center",sorter:"number",formatter:cellFormatNewTests},{title:"Total tests",field:"total_tests",hozAlign:"center",sorter:"number",formatter:cellFormatTotalTests}]},{title:"Reproduction rate (R)",field:"reproduction_rate",hozAlign:"center",formatter:cellFormatReproductionRate},{title:"Population",field:"population",hozAlign:"center",sorter:"number",formatter:cellFormatterToLocString},{title:"Age Informations",columns:[{title:"Median Age",field:"median_age",hozAlign:"center",sorter:"number",formatter:cellFormatterToLocString},{title:"% Aged 65 Older",field:"aged_65_older",hozAlign:"center",sorter:"number",formatter:cellFormatPercent},{title:"% Aged 70 Older",field:"aged_70_older",hozAlign:"center",sorter:"number",formatter:cellFormatPercent}]}]}),vaccinAPI="https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/latest/owid-covid-latest.json";$.getJSON(vaccinAPI,function(t){"World"==t.location&&delete t.location.World,"International"==t.location&&delete t.location.International;let e=Object.keys(t).reduce(function(e,l){return e.concat(l,t[l])},[]);vaccinTable.setData(e)});